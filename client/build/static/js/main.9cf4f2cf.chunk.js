(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,t){e.exports=t(34)},22:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){},34:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(4),c=t.n(l),o=(t(22),t(2)),i=(t(23),function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-left"},r.a.createElement("h3",{className:"nav-title"},"Downme.xyz")),r.a.createElement("div",{className:"nav-right"},r.a.createElement("a",{className:"nav-item",href:"https://github.com/ac5tin/fileupload-go"},"Github")))}),s=t(15),u=t(3),m=t.n(u),d=t(7),p=t(8),f=t(6),E=t(14),h=function(e){var a=e.maxSize,t=void 0===a?1073741824:a,n=e.minSize,l=void 0===n?1:n,c=e.onDrop,o=void 0===c?function(){}:c,i=e.onReject,s=void 0===i?function(){}:i,u=r.a.useCallback(function(e){e.length&&o(e[0])},[o]);return r.a.createElement("span",null,r.a.createElement(E.a,{minSize:l,maxSize:t,onDrop:u,onDropRejected:function(e){return s(e)}},function(e){var a=e.getRootProps,n=e.getInputProps,l=e.isDragActive;return r.a.createElement("section",null,r.a.createElement("div",Object.assign({},a(),{className:"border p-1 filedropper"+(l?" dragging":"")}),r.a.createElement("input",n()),r.a.createElement(r.a.Fragment,null,l?r.a.createElement("p",null,"Drop your file here"):r.a.createElement("p",null,"Drag a file here (max size is ",Object(f.formatBytes)(t),") "))))}))},v=function(){var e=r.a.useState([]),a=Object(p.a)(e,2),t=a[0],n=a[1],l=r.a.useState(!1),c=Object(p.a)(l,2),i=c[0],u=c[1],E=function(){var e=Object(d.a)(m.a.mark(function e(a){var r,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(!0);case 2:return e.next=4,Object(o.a)("Uploading file",{autoClose:!1,type:o.a.TYPE.WARNING});case 4:r=e.sent,(l=new WebSocket("wss://downme.xyz/ws")).binaryType="arraybuffer",(c=new FileReader).onload=function(){var e=Object(d.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.send(new Uint8Array(a.target.result));case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),l.onopen=Object(d.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.send(JSON.stringify({filename:a.name,size:a.size}));case 2:c.readAsArrayBuffer(a);case 3:case"end":return e.stop()}},e)})),l.onclose=function(){c=null},l.onmessage=function(e){var c=JSON.parse(e.data),i=c.result,m=c.id;"success"===i&&m?(o.a.update(r,{render:"Successfully uploaded file",type:o.a.TYPE.SUCCESS,autoClose:3e3}),a.dlink="".concat("https://downme.xyz","/api/file/d/").concat(m),n([].concat(Object(s.a)(t),[a]))):o.a.update(r,{render:"Failed to upload file",type:o.a.TYPE.SUCCESS,autoClose:3e3}),u(!1),l.close()};case 12:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,i?null:r.a.createElement("div",{className:"row"},r.a.createElement(h,{onDrop:E,onReject:function(){o.a.error("Failed to upload file"),u(!1)},maxSize:parseInt("1073741824")})),t.length?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"File"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Link"),r.a.createElement("th",null,"Size"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.name+String(e.size)},r.a.createElement("td",null,e.name),r.a.createElement("td",null,i?"Uploading ...":"Done"),r.a.createElement("td",null,e.dlink?r.a.createElement("a",{href:e.dlink,rel:"noopener noreferrer",target:"_blank"},e.dlink):""),r.a.createElement("td",null,Object(f.formatBytes)(e.size)))}))):null)},w=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"full_width"},"Download"),r.a.createElement("pre",{className:"code"},r.a.createElement("code",null,"$ curl ","https://downme.xyz","/api/file/d/FqigXPc8wD -o foo.txt"))),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"full_width"},"Upload"),r.a.createElement("pre",{className:"code"},r.a.createElement("code",null,"$ curl -X PUT ","https://downme.xyz","/api/file/u -F file=@foo.txt"))))},g=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section header"},r.a.createElement("h2",{className:"title"},"File Uploader")),r.a.createElement("div",{className:"section"},r.a.createElement("h3",{className:"subtitle"},"Simple file sharing"),r.a.createElement(v,null)),r.a.createElement("hr",null),r.a.createElement("div",{className:"section"},r.a.createElement("h3",{className:"subtitle"},"Guide"),r.a.createElement(w,null)))};t(32),t(33);o.a.configure({autoClose:3e3,hideProgressBar:!0});var b=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement("div",{className:"container"},r.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.9cf4f2cf.chunk.js.map